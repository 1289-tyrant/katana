#set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -ftree-vectorizer-verbose=3 -ffast-math")
find_package(Boost 1.50.0 COMPONENTS system)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -ffast-math")
find_package(Eigen)
if(Eigen_FOUND)
  include_directories(${Eigen_INCLUDE_DIRS})
  add_definitions(-DHAS_EIGEN -DEIGEN_DONT_PARALLELIZE)
endif()
app(mc-old mc-old.cpp)
app(mc mc.cpp)
if (CMAKE_COMPILER_IS_GNUCC)
  execute_process(COMMAND ${CMAKE_CXX_COMPILER} -dumpversion
                  OUTPUT_VARIABLE GCC_VERSION)
  if(GCC_VERSION VERSION_GREATER 4.8 OR GCC_VERSION VERSION_EQUAL 4.8)
    app(mc-ddn mc-ddn.cpp REQUIRES Boost_FOUND EXTLIBS ${Boost_LIBRARIES})
  endif()
else()
  app(mc-ddn mc-ddn.cpp REQUIRES Boost_FOUND EXTLIBS ${Boost_LIBRARIES})
endif()
