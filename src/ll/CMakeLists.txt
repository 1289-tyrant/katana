set(hwtopo)
if(CMAKE_SYSTEM_NAME MATCHES "Linux")
  if(ARCH STREQUAL "mic")
    set(hwtopo "LinuxMIC")
  else()
    set(hwtopo "Linux")
  endif()
elseif(CMAKE_SYSTEM_NAME MATCHES "CYGWIN")
  set(hwtopo "Cygwin")
elseif(CMAKE_SYSTEM_NAME MATCHES "BlueGeneQ")
  set(hwtopo "BlueGeneQ")
elseif(CMAKE_SYSTEM_NAME MATCHES "(Solaris|SunOS)")
  set(hwtopo "Solaris")
elseif(CMAKE_SYSTEM_NAME MATCHES "Darwin")
  set(hwtopo "Darwin")
elseif(CMAKE_SYSTEM_NAME MATCHES "AIX")
  set(hwtopo "AIX")
else()
  message(FATAL_ERROR "Unknown system name: ${CMAKE_SYSTEM_NAME}")
endif()

add_internal_library(ll EnvCheck.cpp gIO.cpp HWTopo.cpp
  HWTopo${hwtopo}.cpp
  SimpleLock.cpp TID.cpp)
