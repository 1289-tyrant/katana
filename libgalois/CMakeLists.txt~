set(sources
        src/Runtime/Barrier.cpp
        src/Runtime/Barrier_Topo.cpp
        src/Runtime/ThreadPool.cpp
        src/Runtime/HWTopoLinux.cpp
        src/Runtime/SimpleLock.cpp
        src/Runtime/PtrLock.cpp
        src/Runtime/PerThreadStorage.cpp
        src/Runtime/PageAlloc.cpp
        src/Runtime/Termination.cpp
        src/Runtime/EnvCheck.cpp
        src/Runtime/SyncContext.cpp
)

add_library(galois STATIC ${sources})
target_include_directories(galois PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include)

if (NUMA_FOUND)
  target_link_libraries(galois ${NUMA_LIBRARY})
endif()
