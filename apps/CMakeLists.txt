function(app name)
  file(GLOB Sources *.cpp)
  add_executable(${name} ${Sources})
  target_link_libraries (${name} galois) 
  target_link_libraries (${name} ${CMAKE_THREAD_LIBS_INIT}) 

  if(USE_VTUNE)
    add_definitions(-DGALOIS_VTUNE)
    include_directories("/opt/intel/vtune_amplifier_xe_2011/include/")
    target_link_libraries (${name} /opt/intel/vtune_amplifier_xe_2011/lib64/libittnotify.a)
    target_link_libraries (${name} dl)
  endif(USE_VTUNE)

  if(USE_NUMA)
    #add_library(numa STATIC IMPORTED)
    target_link_libraries(${name} numa)
  endif(USE_NUMA)
endfunction(app)

add_subdirectory(delaunayrefinement)
add_subdirectory(delaunaytriangulation)
add_subdirectory(preflowpush)
add_subdirectory(sssp)
add_subdirectory(barneshut)
add_subdirectory(betweennesscentrality)
add_subdirectory(pagerank)
