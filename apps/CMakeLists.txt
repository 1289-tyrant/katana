function(app name)
  file(GLOB Sources *.cpp)
  add_executable(${name} ${Sources})
  target_link_libraries(${name} galois) 
  target_link_libraries(${name} ${CMAKE_THREAD_LIBS_INIT}) 
  target_link_libraries(${name} hoard)

  if(USE_VTUNE)
    add_definitions(-DGALOIS_VTUNE)
    include_directories(${VTUNE_INCLUDE})
    target_link_libraries(${name} ${VTUNE_LIB})
    target_link_libraries(${name} dl)
  endif(USE_VTUNE)

  if(USE_NUMA)
    target_link_libraries(${name} numa)
  endif(USE_NUMA)
endfunction(app)

add_subdirectory(avi)
add_subdirectory(barneshut)
add_subdirectory(betweennesscentrality)
add_subdirectory(boruvka)
add_subdirectory(clustering)
add_subdirectory(delaunayrefinement)
add_subdirectory(delaunaytriangulation)
add_subdirectory(des)
add_subdirectory(pagerank)
add_subdirectory(preflowpush)
add_subdirectory(sssp)
add_subdirectory(surveypropagation)
